<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DFA Simulator</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/viz.js/2.3.1/viz.js"></script>
    <script src="js/header.js"></script>
    <script src="js/dfa.js"></script>
    <script src="js/stringValidator.js"></script>
    <script src="js/drawDFA.js"></script>
    <script src="js/dfaLanguageWords.js"></script>
    <link rel="stylesheet" href="style.css">

</head>
<body data-spy="scroll" data-target=".subnav" data-offset="50">
    <div class="navbar navbar-default navbar-static-top">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="#"><h1>DFA Simulator</h1></a>
            </div>
            <div class="collapse navbar-collapse">
                <div style="height:100px;" class="navbar-right">
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <p>Enter the parameters below and generate DFA!!</p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div id="DFAInteractiveForm">
                    <form id="formDFADetail" action="">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="input-group">
                                        <span class="input-group-addon">State</span>
                                        <input type="text" class="form-control" id="stateName" name="stateName" placeholder="State Name" required>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label class="control checkbox" id="startingStateLabel">
                                        <input type="checkbox" id="DFAStartStateCheckBox" name="DFAStartStateCheckBox" value="1">
                                        <span class="checkbox-label">Starting State</span>
                                    </label>
                                </div>
                                <div class="col-sm-3">
                                    <label class="control checkbox" id="finalStateLabel">
                                        <input type="checkbox" id="DFAFinalStateCheckBox" name="DFAFinalStateCheckBox" value="1">
                                        <span class="checkbox-label">Final State</span>
                                    </label>
                                </div>
                            </div>
                            <br>
                            <div class="input-group">
                                <span class="input-group-addon">Transitions</span>
                                <input type="text" class="form-control" id="transitions" name="transitions" placeholder="(Symbol, Next State),(Symbol, Next-State)" required>
                            </div>
                        </div>
                        <br>
                        <button type="button" id="AddStateBtn" class="btn btn-lg btn-block btn-primary" onclick="addStateFromFormToDFAStatesList(this.form)">Add State</button>
                    </form>
                    <br>
                    <button type="button" id="GenDFABtn" class="btn btn-lg btn-block btn-success" onclick="generateDFAGraph()">Generate DFA</button>
                    <hr>
                    <div><p id="dfaTransitions"></p></div>
                    <br>
                    <div id="isLanguageContainE" class="alert alert-warning" role="alert"></div>
                    <hr>
                    <div id="isLanguageEmptyAlert" class="alert alert-warning" role="alert"></div>
                    <hr>
                </div>
            </div>
            <div class="col-sm-6">
                <div id="DFADrawing" class="text-center" style="border:1px solid black;">
                </div>
                <hr>
                <div>
                    <h2>Check String:</h2>
                    <form id="stringForm" action="">
                        <div class="row">
                            <div class="col-sm-9">
                                <div class="input-group">
                                    <span class="input-group-addon">Input String</span>
                                    <input type="text" class="form-control" id="inputTestString" name="inputTestString" placeholder="Enter String to Test" required>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <button type="button" class="btn btn-primary btn-block" onclick="testUserString(this.form)">Check</button>
                            </div>
                        </div>
                        <br>
                        <div id="StringValidationAlert" class="alert"><p id="stringValidationText"></p></div>
                    </form>
                </div>
                <hr>
                <div>
                    <h2>Generate Words File:</h2>
                    <a download="words.txt" id="fileDownloadLink" style="display: none"><h3>Click here to Download file of words</h3></a>
                </div>
            </div>
        </div>
        <hr>
        <div class="footer">
        </div>
    </div>
    <script>
        // Hide elements initially
        $("#isLanguageContainE").hide();
        $("#isLanguageEmptyAlert").hide();
        $("#DFADrawing").hide();
    </script>
    <script>
        // Verify Dependencies
        function verifyDependencies() {
            if (typeof jQuery === 'undefined') {
                console.error('jQuery is not loaded.');
            }
            if (typeof Viz === 'undefined') {
                console.error('Viz.js is not loaded.');
            }
        }
        verifyDependencies();
    </script>
</body>
</html>
